var _content_point={_POINT_UNIT:{_NUMBER:1,_TIME:2},_points:{},setPoints(r){if(Array.isArray(r)&&0!=r.length)for(var t=r.length,e=0;e<t;e++){var n=r[e];if(n.content_id&&Array.isArray(n.points)&&0!==n.points.length){this._points[n.content_id.toString().toLowerCase()]=n;var a=n.points.length;for(let r=0;r<a;r++){var o=n.points[r];o.record_value_cal=this._convertValue(n.record_unit,o.record_value)}}}},convert(r,t){if(r&&t){var e=this._points[r.toString().toLowerCase()];if(e&&Array.isArray(e.points)&&0!==e.points.length)return this._calculatorPoint(e,t)}},_calculatorPoint(r,t){for(var e=this,n=e._convertValue(r.record_unit,t),a=r.points,o=null,_=a.length-1;_>=0;_--){var i=a[_];if(n===i.record_value_cal)return i.point_value;if(r.record_unit===e._POINT_UNIT._TIME&&n<i.record_value_cal||r.record_unit===e._POINT_UNIT._NUMBER&&n>i.record_value_cal){if(0===i.record_offset||!i.record_offset)return i.point_value;o=i;break}i}if(null==o)return 0;if(!o.point_offset)return o.point_value;var l=o.record_value_cal,u=o.point_value;let c;for(_=0;_<1e3;_++){if(c=u,l=Math.roundDecimal(l+o.record_offset,2),u=Math.round(u+o.point_offset),l===n)return u;if(r.record_unit===e._POINT_UNIT._TIME&&n>l||r.record_unit===e._POINT_UNIT._NUMBER&&n<l)return c}return 0},_convertValue(r,t){var e=this;switch(r){case e._POINT_UNIT._TIME:return e._convertValue_TIME(String(t));case e._POINT_UNIT._NUMBER:default:return parseFloat(String(t).replace(",","."))}return null},_convertValue_TIME(r){var t=0,e=0,n=0,a=r.replace('"',":").replace("'",":").replace(",",".").split("."),o=a[0].split(":");o.length>2?(t=parseInt(o[0],0),e=parseInt(o[1],0),n=parseInt(o[2],0)):o.length>1?(e=parseInt(o[0],0),n=parseInt(o[1],0)):o.length>0&&(n=parseInt(o[0],0));var _=0;return t>0&&(_+=3600*t),e>0&&(_+=60*e),n>0&&(_+=n),a.length>1&&(_+=parseFloat("0."+a[1])),_}};Math.roundDecimal=function(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e};